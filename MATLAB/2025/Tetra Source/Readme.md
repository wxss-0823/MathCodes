# Readme

## 1. 程序功能简介

​	用于实现 Tetra 源的仿真。通过输入一串序列的二进制数据，经过一系列处理，生成符合 Tetra 规范的模拟调制信号，并将其量化为数字信号，可以实现 FPGA 的一种内部 Tetra 源。

## 2. 程序架构

### 2.1. 文件功能简介

| 文件名            | 功能                                                         |
| ----------------- | ------------------------------------------------------------ |
| PlotFrameWF.m     | 用于绘制模拟域调制信号的时频波形图                           |
| Modulator.m       | 用于将物理信道比特流调制并上变频至载频                       |
| ModulatorData.mat | 用于保存 Modulator.m 的输入参数                              |
| PhyCH.m           | 用于将加扰后的比特流组帧，生成不同规格的物理信道比特流       |
| LogCH.m           | 用于生成最后加扰后的数字信道二进制序列                       |
| GenXXX.m          | 用于生成特定信道规范的二进制序列                             |
| Quantify.m        | 用于将调制后的模拟域信号量化为离散数字信号，并转化为十六进制格式 |

- `BlockEncoder.m`、`RCPC.m`、`Interleaving.m`、`Scrambling.m`：用于实现具体的二进制数据编码抗扰处理过程；
- `Puncturing.m`：用于母码穿孔，数据编码处理过程的一种；
- `GuardInterval.m`：用于在某些特定物理信道中添加保护间隔；
- `DiffPhase.m`、`PhaseAdjust.m`：用于实现将二进制比特流转化为差分相位；
- `CaldBfs.m`：用于计算调制信号量化后的数字域功率；
- `PolyDiv2.m`、`PolyTimes2`：用于多项式除法与乘法，辅助数据编码处理的算法实现；
- `CheckArrayD.m`：用于检查矩阵维度是否符合预期，并提示错误信息。

### 2.2. 使用过程简介

#### 2.2.1. 比特流编码

​	比特流编码过程大致可以描述如下：

1. 生成承载特定信息的二进制比特流；
2. 使用 `LogCH.m` 函数将原始二进制比特流编码为逻辑信道；
3. 使用 `PhyCH.m` 函数将逻辑信道组帧为物理信道。

#### 2.2.2. 图像化结果

​	图像化时频特性大致可以描述如下：

1. 使用 `Modulator.m` 函数将突发比特调制，并返回模拟域与数字域数据；
2. 使用 `PlotFrameWF.m` 函数绘制时频图像。

### 2.3. 使用 Tips

​	由于解码过程并没有实现，比特流编码对于结果而言就是从原始比特，添加冗余比特，生成一段特定维度的二进制矩阵。因此，在图像化的过程中，`Modulator.m` 的输入突发比特可以是一段随机比特序列，这并不会影响图像化的结果。

## 3. 运行注意事项

1. 注意在运行 `PlotFrameWF.m` 文件时，确保 `dacRate` 与 `dacRes` 与生成二进制比特流时，`Modulator.m` 文件的输入参数一致；
